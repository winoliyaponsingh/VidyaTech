"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-chat_utils_copilot-chat-helpers_ts"],{38253:(e,t,n)=>{n.d(t,{CB:()=>p,DW:()=>u,F2:()=>N,JP:()=>f,Jz:()=>s,LX:()=>R,Mw:()=>b,OC:()=>v,P:()=>x,Q7:()=>z,Qt:()=>I,SI:()=>P,Sr:()=>a,Th:()=>_,UU:()=>q,Vb:()=>d,Xo:()=>y,Xs:()=>h,Y6:()=>l,Ye:()=>j,Z6:()=>D,Z8:()=>g,Zn:()=>W,_2:()=>S,iW:()=>$,k4:()=>T,mx:()=>H,p:()=>c,qS:()=>k,s0:()=>A,x_:()=>O,yR:()=>L,yh:()=>C,z$:()=>m});var r=n(4227),i=n(94194),o=n(76513);let s="/copilot",a={400:"This message could not be processed.",401:"You\u2019re not authorized to use Copilot.",403:"This response could not be shown as it violates GitHub\u2019s content policies.",404:"Resource not found. Please try again.",408:"Your network connection was interrupted. Please try again.",413:"Message too large. Please shorten it or remove some references and try again.",429:"GitHub API rate limit exceeded. Please wait and try again."},u="I'm sorry but there was an error. Please try again.";async function c({authToken:e,basePath:t,body:n,integrationId:r,method:o,path:s,streamingResponse:c=!1,realIp:l,signal:p}){try{let m={Authorization:e.authorizationHeaderValue,"copilot-integration-id":r};for(let e of(0,i.f)()){let t=e.split("="),n=t[0]?.replaceAll("_","-"),r="1";t.length>1&&(r=t[1]),m[`X-Experiment-${n}`]=r}c&&(m["Content-Type"]="text/event-stream"),l&&(m["X-Real-IP"]=l);let d=await fetch(t+s,{method:o,mode:"cors",cache:"no-cache",headers:m,body:JSON.stringify(n),signal:p});if(d.ok)return d;return{status:d.status,ok:!1,error:a[d.status]||u}}catch{return{status:500,ok:!1,error:u}}}function l({role:e,content:t,error:n,references:r=[],thread:i,confirmationResponses:o,clientSkillConfirmations:s,parentMessageID:a}){return{id:crypto.randomUUID(),threadID:i?.id||"temp",role:e,content:t,createdAt:new Date().toISOString(),error:n,references:r,skillExecutions:[],clientConfirmations:o,confirmations:s,parentMessageID:a}}function p(e){return e?.name||"New conversation"}function m(e){switch(e.type){case"file":case"folder":return w(e);case"file-diff":return b(e);case"snippet":return function(e){if(e.title)return e.title;let t=e.path.split("/").pop(),n=`${e.range.start}-${e.range.end}`;return`${t}:${n}`}(e);case"repository":return`${e.ownerLogin}/${e.name}`;case"symbol":case"docset":case"image":return e.name;case"commit":return e.message;case"pull-request":return e.title;case"tree-comparison":return`${e.baseRevision.substring(0,5)}..${e.headRevision.substring(0,5)}`;case"third-party":return e.displayName;case"workspace-terminal-log":return"terminal log";case"text":return e.name?e.name:"text reference";case"repo-instructions":return"copilot-instructions.md";default:return"unrecognized reference"}}function d(e){switch(e.type){case"file":return`${e.type}-${e.repoOwner}/${e.repoName}@${e.commitOID}:${e.path}`;case"folder":return`${e.type}-${e.repoOwner}/${e.repoName}@${e.ref}:${e.path}`;case"file-changes":return`${e.type}-${e.repository.owner}/${e.repository.owner}@${e.ref}:${e.path}`;case"file-diff":return`${e.type}:${e.baseFile?.path}@${e.baseFile?.commitOID}-${e.headFile?.path}@${e.headFile?.commitOID}##${e.selectedRange?.start}-${e.selectedRange?.end}`;case"snippet":return`${e.type}-${e.repoOwner}/${e.repoName}@${e.commitOID}:${e.path}#${e.range.start}-${e.range.end}`;case"repository":return`${e.type}-${e.id}-${e.ownerLogin}/${e.name}`;case"symbol":return`${e.type}-${e.kind}-${e.name}`;case"docset":case"image":return`${e.type}-${e.name}`;case"commit":return`${e.type}-@${e.oid}-${e.repository.owner}/${e.repository.name}`;case"pull-request":return`${e.type}-${e.commit}-${e.repository.ownerLogin}/${e.repository.name}`;case"web-search":return`${e.type}-${e.query}`;case"workspace-terminal-log":return`${e.type}-${e.repoOwner}/${e.repoName}@${e.pullRequestID}`;case"repo-instructions":return`${e.type}-.github/custom-instructions.md`;default:return""}}function f(e){switch(e.type){case"file":case"file-diff":case"folder":case"pull-request":case"repo-instructions":return e.url;case"repository":return`/${e.ownerLogin}/${e.name}`;case"commit":return e.permalink;case"third-party":return e.displayUrl;case"snippet":return function(e){if(("file"===e.type||"snippet"===e.type)&&e.languageName&&"markdown"===e.languageName.toLowerCase()){let t=new URL(e.url,window.location.origin);return t.search="plain=1",t.href}return e.url}(e);default:return"#"}}function h(e){return"#"!==e&&""!==e}function g(e){let t=e.path.split("/");return(t.pop(),0===t.length)?"/":t.join("/")}function y(e){return w(e)}function w(e){return e.path.split("/").pop()||e.path}function b(e){let t=e.headFile?.path??e.baseFile?.path??e.head?.path??e.base?.path,n=t?.split("/").pop()??"";return e.selectedRange&&e.selectedRange.start?e.selectedRange.end&&e.selectedRange.start!==e.selectedRange.end?`${n} ${e.selectedRange.start}-${e.selectedRange.end}`:`${n} ${e.selectedRange.start}`:n}function $(e,t){return{type:"file",url:new URL((0,r.IO9)({repo:t,commitish:t.refInfo.name,action:"blob",path:e}),window.location.origin).href,path:e,repoID:t.id,repoOwner:t.ownerLogin,repoName:t.name,ref:t.ref,commitOID:t.commitOID}}function v(e,t){return{type:"folder",url:new URL((0,r.IO9)({repo:t,commitish:t.refInfo.name,action:"tree",path:e}),window.location.origin).href,path:e,repoID:t.id,repoOwner:t.ownerLogin,repoName:t.name,ref:t.ref}}function I(e,t){let n=e.symbol?.fully_qualified_name||"";return{type:"symbol",kind:"suggestionSymbol",name:n,suggestionDefinitions:[{identOffset:{start:e.symbol?.ident_start||0,end:e.symbol?.ident_end||0},extentOffset:{start:e.symbol?.extent_start||0,end:e.symbol?.extent_end||0},kind:e.symbol?.kind||"",fullyQualifiedName:n,repoID:t.id,repoOwner:t.ownerLogin,repoName:t.name,ref:e.commit_sha,commitOID:e.commit_sha,path:e.path}],languageID:e.language_id}}function q(e){return{...e,type:"docset"}}function S(){return{type:"magic-knowledge-base"}}function k(e){return{...e,type:"repository"}}function R(e,t){return{type:"image",name:e=e||"Image",imageUrl:t}}function x(e){return!!e&&"sourceRepos"in e}function D(e){return!!e&&!x(e)}function O(e,t){return e===t||void 0!==e&&void 0!==t&&d(e)===d(t)}function L(e,t){if(void 0===e&&void 0===t)return!0;if(void 0===e||void 0===t||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!O(e[n],t[n]))return!1;return!0}function A(e,t){e(!0),"immersive"===t&&window.history.pushState(null,"",`${s}`)}function P(e){return"file"===e.type}function W(e){return"snippet"===e.type}function _(e,t){if("user"===e.role)return{name:t,avatarURL:`/${t}.png`,type:"user"};if(e.references){let t=e.references.find(e=>"github.agent"===e.type);if(t)return{name:t.login,avatarURL:t.avatarURL,type:"agent"}}return{name:"Copilot",avatarURL:"",type:"copilot"}}function C(e){return"agent"===e.type}function z(e){let t=e.map(e=>_(e,"")).filter(e=>e?.type==="agent"),n=new Map;for(let e of t)n.set(e.name,e);return Array.from(n.values())}function N(e){let t=new Date(e.updatedAt).getTime();return Date.now()-t>144e5}function j(e){if(!e)return[];let t=new Set;return e.filter(e=>{let n=JSON.stringify(e.confirmation);return!t.has(n)&&(t.add(n),!0)})}function H(e){let t=e?e.replace(/(\.api|-v2)$/,"").toLowerCase():"default";return{referenceType:e,suggestions:T(o.y$[t]||o.y$.default).slice(0,3)}}function T(e){let t=e.slice();for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}},84569:(e,t,n)=>{n.d(t,{C6:()=>i,hs:()=>s,mF:()=>a,wh:()=>r,xP:()=>o});let r={explain:"explain",conversation:"conversation",suggest:"suggest",discussFileDiff:"discuss-file-diff",explainFileDiff:"explain-file-diff",reviewPr:"review-pull-request",actionsAgent:"actions-agent"},i=["exception","filtered","publicCode","contentTooLarge","rateLimit","agentUnauthorized","agentRequest","networkError","multipleAgentsAttempt"],o=["bing-search","codesearch","semanticsearch","lexicalsearch","kb-search","pathsearch","show-symbol-definition","getissue","getprcommits","getcommit","getrelease","getrepo","getdiff","get-diff-by-range","getfile","getfilechanges","getdiscussion","get-actions-job-logs","getpullrequest","getalert","planskill","get-github-data","support-search","kb-repo-search"];var s=function(e){return e.Experiments="experiements",e.Prompt="prompt",e.None="none",e}({}),a=function(e){return e.Unlicensed="unlicensed",e.LicensedFull="licensed_full",e.LicensedLimited="licensed_limited",e}({})},94194:(e,t,n)=>{n.d(t,{R:()=>s,f:()=>o});var r=n(10943);let i="copilot_experiments";function o(){let e=(0,r.A)("localStorage").getItem(i);return e?e.split(","):[]}function s(e){(0,r.A)("localStorage").setItem(i,e.join(","))}},76513:(e,t,n)=>{n.d(t,{Pe:()=>o,oo:()=>i,y$:()=>s});var r=n(84569);function i(e){let t=null!=e?`failing job ${e}`:"this failing job";return`Please find a solution for ${t}. Use the logs, job definition, and any referenced files where the failure occurred. Keep your response focused on the solution and include code suggestions when appropriate.`}let o={"Languages & frameworks":["Show me Python beginner projects.","Explain Java's garbage collection.","Start me off with Node.js.","Introduce me to Django best practices."],"Tools & environments":["Set up a local development environment.","Demonstrate the basics of Docker.","Get me started with Git.","Recommend popular VS Code extensions."],"Open source & contribution":["Suggest 10 open source projects I can contribute to.","Walk me through the GitHub Pull Request flow.","How do I start my own open source project?","Guide me through contributing to React's codebase."],"Best practices & concepts":["Explain the SOLID principles of object-oriented design.","Introduce me to test-driven development.","Describe common design patterns.","Teach me about RESTful API design."],"Web development":["Guide me through creating a basic website.","Introduce HTML5 and CSS3 features.","Explain responsive web design.","Start me off with Tailwind CSS."],"Databases & data":["Get me started with SQL queries.","Recommend popular NoSQL databases.","How to back up a database?","Give a walkthrough on normalizing a database."],"Algorithms & data structures":["Teach me basic sorting algorithms.","Explain binary search trees.","Introduce me to graph algorithms.","What is a hash table?"],"Security & authentication":["Give a guide on basic web security.","Show me how to set up OAuth.","What's a JSON Web Token?","Describe common encryption techniques."],"Mobile development":["Kickstart my journey with Android development.","Introduce me to iOS app basics.","Recommend cross-platform mobile frameworks.","Give a guide to the app store submission process."],"Cloud & DevOps":["Start me off with AWS basics.","How do I deploy apps on Azure DevOps?","Introduce me to Kubernetes.","What are the basics of continuous integration/continuous deployment?"],"Frontend frameworks & libraries":["Get me started with React.","Walk me through Vue.js essentials.","What are some best practices in Angular development?","How do I use Svelte for web apps?"],"Performance & optimization":["Teach me about website performance optimization.","Explain database indexing benefits.","What are some tips to optimize JavaScript code?","Give a guide to efficient API caching."]},s={repository:[{question:"What questions can I ask?"},{question:"What does this repository do?"},{question:"How should I get started exploring this repo?"},{question:"Can you tell me about this repository?"}],issue:[{question:"Summarize this issue."},{question:"What are the main points being discussed here?"},{question:"Suggest next steps for this issue."}],alert:[{question:"Summarize this alert."}],file:[{question:"Explain this file."},{question:"Summarize this file for me."},{question:"How can I improve this file?"}],"pull-request":[{question:"Summarize this pull request."},{question:"What commits are included in this PR?"},{question:"Can you tell me about the changes in this PR?"}],discussion:[{question:"Summarize this discussion."},{question:"Summarize the comments made by user in a discussion."},{question:"What were some key decisions made in this discussion?"}],job:[{question:"Why did this job fail?",intent:r.wh.actionsAgent},{question:"How can I fix this build?",intent:r.wh.actionsAgent}],default:[{question:"What questions can I ask?"},{question:"What is the best way to get started with Copilot?"},{question:"How do I clone this repository?"},{question:"How do I revert a commit?"},{question:"How do I add myself as a reviewer?"},{question:"How do I create a repository?"}]}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_utils_copilot-chat-helpers_ts-276c8cea38f7.js.map