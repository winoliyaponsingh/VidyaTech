"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copy-to-clipboard_CopyToClipboardButton_tsx-ui_packages_inline-autocomplete_Inlin-d7b165"],{34632:(e,t,r)=>{r.d(t,{D:()=>n});function n(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e);let t=document.body;if(!t)return Promise.reject(Error());let r=function(e){let t=document.createElement("pre");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="5px",t.textContent=e,t}(e);return t.appendChild(r),!function(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent||"");let t=getSelection();if(null==t)return Promise.reject(Error());t.removeAllRanges();let r=document.createRange();r.selectNodeContents(e),t.addRange(r),document.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}(r),t.removeChild(r),Promise.resolve()}},37255:(e,t,r)=>{r.d(t,{KI:()=>d,VB:()=>u,a1:()=>c});var n=r(96540),l=r(25679);let i=({leadingWhitespace:e="",delimeter:t,taskBox:r,text:n})=>{if(!n)return null;let l="number"==typeof t?`${t+1}.`:t;return`
${e}${l}${r?" [ ]":""} `},o=({leadingWhitespace:e="",delimeter:t,taskBox:r})=>{let n="number"==typeof t?`${t}.`:t;return`${n}${e}${r?" [ ]":" "}
`},a=/^(\s*(?:>\s*)*(?:[*-]\s{1,4})*)([*-]|(\d+)\.)(\s{1,4})(?:(\[[\sx]\])\s)?(.*)/i,s=e=>"number"==typeof e?.delimeter,u=e=>{let t=a.exec(e);if(!t)return null;let[,r="",n,l="",i,o=null,s]=t,u=Number.parseInt(l,10);return{leadingWhitespace:r,text:s,delimeter:Number.isNaN(u)?n:u,middleWhitespace:i,taskBox:o}},c=e=>"number"==typeof e.delimeter?`${e.leadingWhitespace}${e.delimeter}.${e.middleWhitespace}${e.taskBox?`${e.taskBox} `:""}${e.text}`:`${e.leadingWhitespace}${e.delimeter}${e.middleWhitespace}${e.taskBox||""} ${e.text}`,d=({emitChange:e})=>{let t=(0,n.useCallback)((t,r)=>{let[n,i]=r||(0,l.ty)(t),o=u(t.value.slice(n,i));if(!s(o))return;let a=t.value.slice(i+1).split(/\r?\n/),d=[],p=o.delimeter;for(let e of a){let t=u(e);if(!s(t)||t.delimeter!==p)break;d.push(t),p++}if(0===d.length)return;let h=`
${d.map(e=>c({...e,delimeter:e.delimeter+1})).join("\n")}`;e(h,[i,i+h.length+1],t.selectionStart)},[e]);return{onKeyDown:(0,n.useCallback)(r=>{if("Enter"===r.key&&!r.shiftKey&&!r.defaultPrevented){let n=r.currentTarget,[a,s]=(0,l.ty)(n),c=u(n.value.slice(a,n.selectionStart)+n.value.slice(n.selectionEnd,s));if(c){if(r.preventDefault(),n.selectionStart===a){let r=o(c);null===r?e("",[a,n.selectionEnd]):(e(r),t(n,[a,a+r.length-1]))}else{let r=i(c);null===r?e("",[a,n.selectionEnd]):(e(r),t(n))}}}},[e,t])}}},25679:(e,t,r)=>{r.d(t,{pF:()=>u,ty:()=>l,VL:()=>a,nf:()=>i,TG:()=>c,iQ:()=>o});var n=r(9951);let PNGScanner=class PNGScanner{advance(e){this.pos+=e}readInt(e){let t=this,r=function(){switch(e){case 1:return t.dataview.getUint8(t.pos);case 2:return t.dataview.getUint16(t.pos);case 4:return t.dataview.getUint32(t.pos);default:throw Error("bytes parameter must be 1, 2 or 4")}}();return this.advance(e),r}readChar(){return this.readInt(1)}readShort(){return this.readInt(2)}readLong(){return this.readInt(4)}readString(e){let t=[];for(let r=0;r<e;r++)t.push(String.fromCharCode(this.readChar()));return t.join("")}scan(e){if(0x89504e47!==this.readLong())throw Error("invalid PNG");for(this.advance(4);;){let t=this.readLong(),r=this.readString(4),n=this.pos+t+4;if(!1===e.call(this,r,t)||"IEND"===r)break;this.pos=n}}constructor(e,t){this.dataview=new DataView(e),this.pos=0,this.callback=t}};let l=e=>{let t=e.value.lastIndexOf("\n",e.selectionStart-1)+1,r=e.value.indexOf("\n",e.selectionEnd);return -1===r&&(r=e.value.length),[t,r]},i=e=>`<!-- ${e.replaceAll("--","\\-\\-")} -->`,o=(e,t)=>`[${e.replaceAll("[","\\[").replaceAll("]","\\]")}](${t.replaceAll("(","\\(").replaceAll(")","\\)")})`,a=e=>(0,n.U0)()?e.metaKey:e.ctrlKey,s=e=>{let t=new PNGScanner(e),r={width:0,height:0,ppi:1};return t.scan(function(e){switch(e){case"IHDR":r.width=this.readLong(),r.height=this.readLong();break;case"pHYs":{let e;let t=this.readLong(),n=this.readLong();return 1===this.readChar()&&(e=.0254),e&&(r.ppi=Math.round((t+n)/2*e)),!1}case"IDAT":return!1}return!0}),r},u=async e=>{let t=await new Promise((t,r)=>{let n=new FileReader;n.onload=()=>t(n.result),n.onerror=()=>r(n.error),n.readAsArrayBuffer(e)});return t?s(t):null},c=(e,t,r="Image")=>{if(144===e.ppi){let n=Math.round(e.width/2);return`<img width="${n}" alt="${r}" src="${t}" />`}return`![${r}](${t})`}},90807:(e,t,r)=>{r.d(t,{O:()=>l});var n=r(96540);let l=({htmlContainerRef:e,htmlContainer:t,onLinkClick:r,openLinksInNewTab:l})=>{(0,n.useEffect)(()=>{let n=e?.current||t;if(!n)return;let i=e=>{let t=e.target.closest("a");t&&(r?.(e),!e.defaultPrevented&&l&&t.href&&(window.open(t.href,"_blank","noopener noreferrer"),e.preventDefault()))};return n.addEventListener("click",i),()=>{n?.removeEventListener("click",i)}},[t,e,r,l])}},95669:(e,t,r)=>{r.d(t,{H:()=>o});var n=r(96540);let l=(e,t,r)=>{let n=t[1]-t[0];return e<t[0]?e:e<t[1]?t[0]+r:e+(r-n)},i=(e,t)=>({...e,nativeEvent:e,target:t,currentTarget:t,preventDefault:()=>e.preventDefault(),isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>!1,persist:()=>({})}),o=({inputRef:e,fallbackEventHandler:t})=>(0,n.useCallback)((r,n,o)=>{let a=e.current;if(!a)return;let s=document.activeElement;a.focus();let u=n??[a.selectionStart??a.value.length,a.selectionEnd??a.value.length],c=void 0===o?l(a.selectionStart??a.value.length,u,r.length):Array.isArray(o)?o[0]:o,d=Array.isArray(o)?o[1]:c,p=!1;try{if(document.activeElement!==a)throw Error("Input must be focused to use execCommand");a.setSelectionRange(u[0],u[1]),p=""===r?document.execCommand("delete",!1):document.execCommand("insertText",!1,r),a.setSelectionRange(c,d)}catch{p=!1}if((s instanceof HTMLInputElement||s instanceof HTMLTextAreaElement)&&s.focus(),!p){let n=a.value.slice(0,u[0])+r+a.value.slice(u[1]),l=new InputEvent("input",{bubbles:!1});e.current.value=n,e.current.setSelectionRange(c,d),e.current.dispatchEvent(l),t(i(l,e.current))}},[e,t])},78625:(e,t,r)=>{r.d(t,{T:()=>h});var n=r(74848),l=r(20379),i=r(38621),o=r(87330),a=r(96540),s=r(20053),u=r(14616),c=r(43779),d=r(34632);let p={tooltip:"CopyToClipboardButton-module__tooltip--Dq1IB"};function h({icon:e=i.CopyIcon,size:t="medium",onCopy:r,textToCopy:h,tooltipProps:f,variant:m="invisible",ariaLabel:g,className:b,disabled:v,...y}){let[x,C]=a.useState(!1),w=(0,l.A)(),E=g??`Copy "${h}" to clipboard`,S=x?"Copied!":E,$={size:t,variant:m,onClick:()=>{C(!0),(0,c.i)("Copied!"),(0,d.D)(h),r?.(),setTimeout(()=>w()&&C(!1),2e3)},icon:x?i.CheckIcon:e,className:(0,s.$)(x?"color-fg-success":void 0,b),...y},I=(0,a.useId)();return v?(0,n.jsx)(o.K,{...$,"aria-label":E,disabled:!0}):(0,n.jsx)(u.m,{text:S,"aria-label":E,type:"label",id:I,"aria-hidden":!0,...f,className:(0,s.$)(p.tooltip,f?.className),children:(0,n.jsx)(o.K,{...$,"aria-labelledby":I})})}try{h.displayName||(h.displayName="CopyToClipboardButton")}catch{}},68950:(e,t,r)=>{r.d(t,{a:()=>j});var n=r(74848),l=r(70170);let i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o=(e,t)=>{let{height:r,top:n,left:l}=function(e,t){let r="mozInnerScreenX"in window,n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);let l=n.style,o=window.getComputedStyle(e),a=isNaN(parseInt(o.lineHeight))?1.2*parseInt(o.fontSize):parseInt(o.lineHeight),s=e instanceof HTMLInputElement;for(let t of(l.whiteSpace=s?"nowrap":"pre-wrap",l.wordWrap=s?"":"break-word",l.position="absolute",i))if(s&&"lineHeight"===t){if("border-box"===o.boxSizing){let e=parseInt(o.height),t=parseInt(o.paddingTop)+parseInt(o.paddingBottom)+parseInt(o.borderTopWidth)+parseInt(o.borderBottomWidth),r=t+a;e>r?l.lineHeight=`${e-t}px`:e===r?l.lineHeight=o.lineHeight:l.lineHeight="0"}else l.lineHeight=o.height}else if(s||"width"!==t||"border-box"!==o.boxSizing)l[t]=o[t];else{let t=parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),n=r?parseFloat(o.width)-t:e.clientWidth+t;l.width=`${n}px`}r?e.scrollHeight>parseInt(o.height)&&(l.overflowY="scroll"):l.overflow="hidden",n.textContent=e.value.substring(0,t),s&&(n.textContent=n.textContent.replace(/\s/g,"\xa0"));let u=document.createElement("span");u.textContent=s?".":e.value.substring(t)||".",n.appendChild(u);let c={top:u.offsetTop+parseInt(o.borderTopWidth),left:u.offsetLeft+parseInt(o.borderLeftWidth),height:a};return document.body.removeChild(n),c}(e,t);return{height:r,top:n-e.scrollTop,left:l-e.scrollLeft}},a=(e,t)=>{let{top:r,left:n,height:l}=o(e,t),{top:i,left:a}=e.getBoundingClientRect();return{height:l,top:i+r,left:a+n}};var s=r(95669),u=r(74021),c=r(64515),d=r(16255),p=r(20053),h=r(96540),f=r(35908),m=r(6499);let g=({isOpen:e,listElement:t,inputElement:r,onCommit:n,options:l,tabInsertsSuggestions:i=!1,firstOptionSelectionMode:o="none"})=>{let a=(0,h.useId)(),s=`combobox-${a}__option`,u=(0,h.useRef)(e),[c,d]=(0,h.useState)(null),p=(0,h.useCallback)(()=>[...t?.querySelectorAll("[role=option]")??[]],[t]),g=(0,h.useCallback)(e=>{let t=e.target.getAttribute("data-combobox-list-index"),r=l[null!==t?parseInt(t,10):NaN];r&&n({nativeEvent:e,option:r})},[l,n]),b=(0,h.useCallback)(e=>e.preventDefault(),[]);(0,h.useEffect)(function(){if(r&&t){t.getAttribute("role")||t.setAttribute("role","listbox");let e=new f.A(r,t,{tabInsertsSuggestions:i,firstOptionSelectionMode:o});return d(e),()=>{e.destroy(),d(null)}}},[r,t,i,o]),(0,h.useEffect)(function(){let t=u.current;u.current=e&&null!==c,e!==t&&c&&(e?c.start():c.stop())},[e,c]),(0,h.useEffect)(function(){return t?.addEventListener("combobox-commit",g),()=>t?.removeEventListener("combobox-commit",g)},[g,t]),(0,m.N)(()=>{let e=p();for(let[t,r]of e.entries())(!r.id||r.id.startsWith(s))&&(r.id=`${s}-${t}`),r.setAttribute("data-combobox-list-index",t.toString()),r.addEventListener("mousedown",b);return c?.resetSelection(),()=>{for(let t of e)t.removeEventListener("mousedown",b)}},[p,s,l,c,b])};var b=r(30595),v=r(8338),y=r(45221),x=r(47413);let C={Box_0:"AutocompleteSuggestions-module__Box_0--iBnIs",Overlay_0:"AutocompleteSuggestions-module__Overlay_0--QuLJW",ActionListItem:"AutocompleteSuggestions-module__ActionListItem--jPkc1"},w=new Set([" ","\n"]),E=new Set([".","\n"]),S=(e,t,r)=>{let n=e.sort((e,t)=>t.triggerChar.length-e.triggerChar.length);for(let e=r-1,l="",i=n;e>=0&&i.length>0;e--){let r=t[e]??"";for(let n of(l=r+l,w.has(r)&&(i=i.filter(e=>e.multiWord)),E.has(r)&&(i=i.filter(e=>!e.multiWord)),i.filter(e=>l.startsWith(e.triggerChar)))){let r=t[e-1]??"",o=l[1]??"";if((!r||/[\s([]/.test(r))&&(!o||!/\s/.test(o)))return{trigger:n,query:l.slice(n.triggerChar.length)};i=i.filter(e=>e!==n)}}return null},$=e=>"string"==typeof e?e:e.value,I=e=>"string"==typeof e?e:e.key??e.value,k=(...e)=>t=>{for(let r of[...e].reverse())t.isDefaultPrevented()||r?.(t)},A=()=>(0,n.jsx)("div",{className:C.Box_0,children:(0,n.jsx)(b.A,{size:"small"})}),L=({suggestion:e})=>{let t=$(e),r={id:t,children:t,role:"option",className:C.ActionListItem};return"string"==typeof e?(0,n.jsx)(v.l.Item,{...r}):e.render(r)},T=({suggestions:e,portalName:t,triggerCharCoords:r,onClose:l,onCommit:i,inputRef:o,visible:a,tabInsertsSuggestions:s,defaultPlacement:u,firstOptionSelectionMode:c="active"})=>{let d=(0,h.useRef)(null),[p,f]=(0,h.useState)(null),m=(0,h.useCallback)(({option:e})=>{i($(e))},[i]);g({isOpen:a&&"loading"!==e,listElement:p,inputElement:o.current,onCommit:m,options:Array.isArray(e)?e:[],tabInsertsSuggestions:s,firstOptionSelectionMode:c});let[b,w]=(0,h.useState)(0);return(0,y.A)(function(){let e=d.current?.offsetHeight??0,t=r.top+r.height,n=t+e>window.innerHeight,l=r.top-e,i=l<0,o={below:n&&!i?l:t,above:i&&!n?t:l}[u];w(Number.isNaN(o)?0:o)},[r.top,r.height,e,a,u]),a?(0,n.jsx)(x.Ay,{onEscape:l,onClickOutside:l,returnFocusRef:o,preventFocusOnOpen:!0,portalContainerName:t,top:b,left:r.left,ref:d,className:C.Overlay_0,children:(0,n.jsx)(v.l,{ref:f,role:"listbox",children:"loading"===e?(0,n.jsx)(A,{}):e?.map(e=>n.jsx(L,{suggestion:e},I(e)))})}):(0,n.jsx)(n.Fragment,{})};T.displayName="SuggestionList";try{A.displayName||(A.displayName="LoadingIndicator")}catch{}try{L.displayName||(L.displayName="SuggestionListItem")}catch{}let N={container:"InlineAutocomplete-module__container--UwGMb",fullWidth:"InlineAutocomplete-module__fullWidth--X6eXo"},_=e=>{try{return e.selectionStart}catch(e){if(e instanceof TypeError)return null;throw e}},W=()=>{},j=({triggers:e,suggestions:t,onShowSuggestions:r,onHideSuggestions:i,onSelectSuggestion:o,style:f,children:m,tabInsertsSuggestions:g=!1,suggestionsPlacement:b="below",firstOptionSelectionMode:v="active",portalName:y,fullWidth:x=!1,...C})=>{let[,w]=(0,h.useState)(0),E=(0,u.Lf)(C),I=(0,h.useRef)(null);(0,c.T)(m.ref??W,I);let A=function(e,t){if(h.Children.only(e),t.current&&!(t.current instanceof HTMLInputElement)&&!(t.current instanceof HTMLTextAreaElement))throw TypeError("AutocompleteTextarea child must be a component that forwards a ref and props to an <input> or <textarea> element.");return e}(m,I),L=(0,s.H)({inputRef:I,fallbackEventHandler:A.props.onChange??W}),j=(0,h.useRef)(null),B=null!==t&&t.length>0;(0,h.useEffect)(()=>{if(B){let e=(0,l.n)(()=>w(e=>e+1),100);return document.addEventListener("scroll",e,{capture:!0}),()=>{document.removeEventListener("scroll",e,{capture:!0})}}},[B]);let H=I.current&&j.current&&B?a(I.current,(_(I.current)??0)-j.current.query.length):{top:0,left:0,height:0},R=(0,h.cloneElement)(A,{...E,onBlur:k(A.props.onBlur,()=>{i()}),onKeyDown:k(A.props.onKeyDown,e=>{B&&"Escape"===e.key&&(i(),e.stopPropagation())}),onChange:k(A.props.onChange,t=>{let n=_(t.currentTarget);if(null===n){i();return}j.current=S(e,t.currentTarget.value,n),j.current?r(j.current):i()}),ref:I}),P=B?"loading"===t?"Loading autocomplete suggestions\u2026":`${t.length} autocomplete ${1===t.length?"suggestion":"suggestions"} available; "${$(t[0])}" is highlighted. Press ${g?"Enter or Tab":"Enter"} to insert.`:"";return(0,n.jsxs)("div",{className:(0,p.$)(N.container,x&&N.fullWidth),style:f,children:[R,(0,n.jsx)(T,{suggestions:t,inputRef:I,onCommit:e=>{if(!I.current||!j.current)return;let{query:t,trigger:r}=j.current;o?.({suggestion:e,trigger:r,query:t});let n=_(I.current)??0,l=t.length+r.triggerChar.length,a=n-l,s=r.keepTriggerCharOnCommit??!0?r.triggerChar:"",u=r.insertSpaceOnCommit??!0,c=`${s}${e}${u?" ":""}`;i(),L(c,[a,a+l])},onClose:i,triggerCharCoords:H,visible:B,tabInsertsSuggestions:g,defaultPlacement:b,firstOptionSelectionMode:v,portalName:y}),(0,n.jsx)(d.Z,{children:(0,n.jsx)("span",{"aria-live":"assertive","aria-atomic":!0,style:{clipPath:"circle(0)",position:"absolute"},children:P})})]})};try{j.displayName||(j.displayName="InlineAutocomplete")}catch{}},69603:(e,t,r)=>{r.d(t,{G:()=>v});var n=r(74848),l=r(96540),i=r(64515),o=r(75177),a=r(30595),s=r(34587),u=r(90807),c=r(37255),d=r(45221);let p=e=>{let t=e.match(/^ {0,3}(`{3,}|~{3,})[^`]*$/);return t?t[1]:null},h=(e,t)=>RegExp(`^ {0,3}${t}${t[0]}* *$`).test(e),f=e=>"string"==typeof e?.taskBox,m=e=>({...e,taskBox:"[ ]"===e.taskBox?"[x]":"[ ]"}),g=({htmlContainer:e,markdownValue:t,onChange:r,disabled:n=!1,dependencies:i=[]})=>{let o=(0,l.useRef)(t);(0,d.A)(()=>{o.current=t},[t]);let a=(0,l.useCallback)(e=>()=>{let t=o.current.split(/\r?\n/),n=null;for(let l=0,i=0;l<t.length;l++){let a=t[l];if(n){if(h(a,n)){n=null;continue}}else n=p(a);if(n)continue;let s=(0,c.VB)(a);if(f(s)){if(i===e){let e=(0,c.a1)(m(s));t.splice(l,1,e);let n=t.join("\n");o.current=n,r(n);return}i++}}},[r]),[s,u]=(0,l.useState)([]);(0,l.useEffect)(()=>{u(Array.from(e?.querySelectorAll("input[type=checkbox].task-list-item-checkbox")??[]))},[e,...i]),(0,l.useEffect)(function(){let e=s.map(e=>{let t=e.disabled;return e.disabled=n,()=>{e.disabled=t}});return()=>{for(let t of e)t()}},[s,n]),(0,l.useEffect)(function(){let e=s.map((e,t)=>{let r=a(t);return e.addEventListener("change",r),()=>{e.removeEventListener("change",r)}});return()=>{for(let t of e)t()}},[s,a])};var b=r(20053);let v=(0,l.forwardRef)(function({verifiedHTML:e,loading:t=!1,markdownValue:r="",onChange:c,disabled:d=!1,onLinkClick:p,openLinksInNewTab:h=!1,teamHovercardsEnabled:f=!1,className:m},v){let[y,x]=(0,l.useState)(null),C=(0,l.useRef)(null);(0,i.T)(v,C);let w=(0,l.useCallback)(e=>{C.current=e,x(e)},[]);return g({onChange:(0,l.useCallback)(async t=>{try{await c?.(t)}catch{y&&(y.innerHTML=e)}},[c,y,e]),disabled:d||!c,htmlContainer:y??void 0,markdownValue:r,dependencies:[e]}),(0,u.O)({htmlContainer:y??void 0,onLinkClick:p,openLinksInNewTab:h}),(0,l.useMemo)(()=>t?(0,n.jsx)(o.A,{sx:{display:"flex",justifyContent:"space-around",p:2},children:(0,n.jsx)(a.A,{"aria-label":"Loading content..."})}):(0,n.jsx)(s.oG,{ref:w,className:(0,b.$)("markdown-body",m),sx:m?{}:{fontSize:1,maxWidth:"100%","& > div > :last-child":{mb:0}},html:e,...f?{"data-team-hovercards-enabled":!0}:{}}),[m,t,f,e,w])});try{v.displayName||(v.displayName="MarkdownViewer")}catch{}}}]);
//# sourceMappingURL=ui_packages_copy-to-clipboard_CopyToClipboardButton_tsx-ui_packages_inline-autocomplete_Inlin-d7b165-bcf9b3a76926.js.map